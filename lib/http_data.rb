# frozen_string_literal: true

class HttpData
  # HTTP Status codes with Japanese descriptions
  STATUS_CODES = {
    # 1xx Informational
    100 => '処理を継続中。クライアントはリクエストを続行できる',
    101 => 'プロトコル切り替え。サーバーがプロトコル変更に同意',
    103 => '早期ヒント。リンク先リソースの先読みを許可',

    # 2xx Success
    200 => 'リクエスト成功。最も一般的な成功レスポンス',
    201 => 'リソース作成成功。新しいリソースが作成された',
    202 => 'リクエスト受理。処理はまだ完了していない',
    204 => 'コンテンツなし。成功したが返すコンテンツがない',
    206 => '部分的コンテンツ。範囲リクエストに対する応答',

    # 3xx Redirection
    301 => '恒久的に移動。リソースが永久に新しいURLへ移動',
    302 => '一時的に移動（発見）。一時的に別のURLにある',
    303 => '他を参照。別のURIでリソースを取得すべき',
    304 => '未更新。キャッシュされたバージョンが有効',
    307 => '一時的リダイレクト。同じメソッドで別URLへ',
    308 => '恒久的リダイレクト。同じメソッドで永久に別URLへ',

    # 4xx Client Error
    400 => '不正なリクエスト。構文エラーなどでサーバーが理解できない',
    401 => '認証が必要。有効な認証情報が含まれていない',
    403 => 'アクセス禁止。認証済みでもアクセス権限がない',
    404 => 'リソースが見つからない。要求されたリソースが存在しない',
    405 => '許可されていないメソッド。そのメソッドは使用不可',
    406 => '受理不可。受け入れ可能なコンテンツがない',
    408 => 'リクエストタイムアウト。接続がアイドル状態で時間切れ',
    409 => '競合。リソースの現在の状態と矛盾する',
    410 => '消滅。リソースが永久に削除された',
    413 => 'ペイロードが大きすぎる。リクエストボディが大きすぎる',
    414 => 'URIが長すぎる。リクエストURIが長すぎる',
    415 => 'サポートされていないメディアタイプ',
    418 => '私はティーポット。コーヒーを淹れることを拒否',
    422 => '処理できないエンティティ。意味的に正しくない',
    429 => 'リクエストが多すぎる。レート制限に達した',
    451 => '法的理由により利用不可。法的要求で利用制限',

    # 5xx Server Error
    500 => 'サーバー内部エラー。予期しないエラーが発生',
    501 => '未実装。サーバーがその機能をサポートしていない',
    502 => '不正なゲートウェイ。上流サーバーから無効な応答',
    503 => 'サービス利用不可。サーバーが一時的に過負荷',
    504 => 'ゲートウェイタイムアウト。上流サーバーからの応答なし',
    505 => 'HTTPバージョン非対応。そのHTTPバージョンをサポートしない'
  }.freeze

  class << self
    def all_codes
      STATUS_CODES.keys
    end

    def description(code)
      STATUS_CODES[code]
    end

    def random_code
      all_codes.sample
    end

    def random_codes_except(excluded_code, count:)
      available = all_codes - [excluded_code]
      available.sample(count)
    end

    def code_with_description(code)
      { code: code, description: STATUS_CODES[code] }
    end
  end
end
